# 计算机网络

## 概述

### 分组交换、电路交换、报文交换

![image-20210322103347622](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322103347622.png)

### 网络性能指标

<img src="https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322103458971.png" alt="image-20210322103458971" style="zoom: 50%;" />

#### 速率

![image-20210322103728749](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322103728749.png)

#### 带宽

![image-20210322103914840](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322103914840.png)

#### 吞吐量

![image-20210322104006274](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322104006274.png)

#### 时延

![image-20210322104315703](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322104315703.png)

![image-20210322104422958](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322104422958.png)

#### 时延带宽积

![image-20210322104530638](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322104530638.png)

#### 往返时间

![image-20210322104638763](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322104638763.png)

#### 利用率

![image-20210322104804314](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322104804314.png)

#### 丢包率

![image-20210322104941655](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322104941655.png)

#### 总结

![image-20210322105228744](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322105228744.png)

![image-20210322105259539](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322105259539.png)

### 计算机网络体系结构

#### 常见计算机网络体系结构

![image-20210322105558885](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322105558885.png)

![image-20210322105519071](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322105519071.png)

#### 分层的必要性

##### 层次划分

![image-20210322105803973](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322105803973.png)

![image-20210322105738047](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322105738047.png)

![image-20210322105842647](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322105842647.png)

![image-20210322105914331](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322105914331.png)

![image-20210322105936585](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322105936585.png)

![image-20210322105953638](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322105953638.png)

##### 分层思想的应用

![image-20210322110111061](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322110111061.png)

##### 实体、服务、协议

![image-20210322110315731](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322110315731.png)

![image-20210322110350371](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322110350371.png)

 ##### 相关术语

![](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322110350371.png)

### 网络体系结构例题

![image-20210322113601243](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322113601243.png)

![image-20210322113700311](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322113700311.png)

![image-20210322113814753](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322113814753.png)

![image-20210322113855472](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322113855472.png)

![image-20210322114003598](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322114003598.png)

![image-20210322114203187](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322114203187.png)

![image-20210322114241901](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322114241901.png)

![image-20210322114327337](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322114327337.png)

![image-20210322114358067](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322114358067.png)

![image-20210322114422503](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322114422503.png)

### 时延例题

![image-20210322114559398](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322114559398.png)

![image-20210322114728764](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322114728764.png)

![image-20210322114826697](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322114826697.png)

#### 分组交换

![image-20210322115000409](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322115000409.png)

![image-20210322115055180](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322115055180.png)

![image-20210322115122516](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322115122516.png)

![image-20210322115216682](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322115216682.png)

![image-20210322115236167](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322115236167.png)

## 物理层

### 基本概念

![image-20210322110750440](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322110750440.png)

### 物理层下的传输媒体

![image-20210322110946262](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322110946262.png)

### 传输方式

<img src="https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322111017326.png" alt="image-20210322111017326" style="zoom:150%;" />

### 编码与调制

![image-20210322111151024](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322111151024.png)

### 常见编码方式

![image-20210421125759140]()

![image-20210322111344960](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322111344960.png)

### 调制

![image-20210322111452267](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322111452267.png)

![image-20210322111627135](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322111627135.png)

### 失真

![image-20210322111816670](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322111816670.png)

### 信道的极限容量

![image-20210322112022321](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322112022321.png)

### 例题

![image-20210322112104591](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322112104591.png)

![image-20210322112130425](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322112130425.png)

![image-20210322112438667](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322112438667.png)

![image-20210322112816861](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322112816861.png)

![image-20210322113127572](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210322113127572.png)

### 习题          在·

![image-20210324110544231](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324110544231.png)

![image-20210324110713749](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324110713749.png)

<img src="https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324113208414.png" alt="image-20210324113208414" style="zoom:67%;" />

![image-20210324113230107](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324113230107.png)

## 数据链路层

### 概述

![image-20210324125027264](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324125027264.png)

![image-20210324125144013](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324125144013.png)

![image-20210324125315066](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324125315066.png)

![image-20210324125514520](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324125514520.png)

![image-20210324125751544](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324125751544.png)

### 封装成帧

![image-20210324130333831](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324130333831.png)

![image-20210324130422457](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324130422457.png)

![image-20210324130513752](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324130513752.png)

### 差错检测

![image-20210324130751069](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324130751069.png)

#### 奇偶校验

![image-20210324131014941](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324131014941.png)

```
奇偶校验漏检率太高，不采用
```

 ####  循环冗余校验CRC

![image-20210324131435749](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324131435749.png)

![image-20210324131607467](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324131607467.png)

![image-20210324132112019](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324132112019.png)

![image-20210324132659651](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324132659651.png)

![image-20210324132749705](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324132749705.png)

### 可靠传输基本概念

![image-20210324153636320](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324153636320.png)

![image-20210324153844931](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324153844931.png)

### 可靠传输的实现

![image-20210324154110057](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324154110057.png)

#### 停止-等待协议SW

![image-20210324154352887](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324154352887.png)

也称为

![image-20210324160508654](C:\Users\Youens\AppData\Roaming\Typora\typora-user-images\image-20210324160508654.png)

![image-20210324154815097](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324154815097.png)

<img src="https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324155003736.png" alt="image-20210324155003736"  />

![image-20210324155117847](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324155117847.png)

![image-20210324155315057](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324155315057.png)

![image-20210324160154350](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324160154350.png)

#### 回退N帧协议GBN

 ![image-20210324160856455](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324160856455.png)

![image-20210324161051126](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324161051126.png)

![image-20210324161428603](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324161428603.png)

![image-20210324161511471](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324161511471.png)

![image-20210324161741238](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324161741238.png)

![image-20210324162100133](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324162100133.png)

![image-20210324162135711](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324162135711.png)

#### 选择重传协议SR

![image-20210324162322996](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324162322996.png)

![image-20210324163252831](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324163252831.png)

![image-20210324163402122](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324163402122.png)

![image-20210324163704133](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324163704133.png)

![image-20210324163823099](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324163823099.png)

![image-20210324163945419](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324163945419.png)

### 点对点协议PPP

![image-20210324164750085](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324164750085.png)

![image-20210324164929089](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324164929089.png)

#### 帧格式

![image-20210324165053282](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324165053282.png)

#### 透明传输

![image-20210324165604171](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324165604171.png)

![image-20210324165536534](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324165536534.png)

![image-20210324165657443](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324165657443.png)

#### 差错检测

![image-20210324170016930](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324170016930.png)

#### 工作状态

![image-20210324170147049](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324170147049.png)

### 媒体接入控制

![image-20210324170942562](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324170942562.png)

![image-20210324170916899](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324170916899.png)

#### 静态划分信号

![image-20210324171113716](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324171113716.png)

##### 频分复用FDM

![image-20210324171239389](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324171239389.png)

##### 时分复用TDM

![image-20210324171419185](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324171419185.png)

##### 波分复用WDM

![image-20210324171546379](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324171546379.png) 

##### 码分复用CDM

![image-20210324171912693](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324171912693.png)

![image-20210324172325510](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324172325510.png)

![image-20210324172435382](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324172435382.png)

![image-20210324172711529](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324172711529.png)

![image-20210324172830890](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324172830890.png)

![image-20210324173215292](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/image-20210324173215292.png)

#### 随机接入总线局域网CSMA/CD

> 连接到一个总线解决发生碰撞的解决方法

![image-20210329113032613](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329113032.png)

##### 多址接入、载波监听、碰撞检查

![image-20210329110313829](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329110313.png)

![image-20210329110528701](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329110528.png)

##### 争用期

![image-20210329110908058](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329110908.png)

##### 最小帧长

![image-20210329111102011](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329111102.png)

##### 最大帧长

![image-20210329111339367](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329111339.png)

##### 截断二进制指数算法

![image-20210329111813952](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329111814.png)

##### 信道利用率

![image-20210329112002284](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329112002.png)

##### 接收发送流程

![image-20210329112039874](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329112040.png)

![image-20210329112118307](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329112118.png)

##### 练习题

![image-20210329112252426](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329112252.png)

![image-20210329112638652](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329112638.png)

![image-20210329112911534](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329112911.png)

#### 随机接入无线局域网CSMA/CA

![image-20210329113358360](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329113358.png)

##### 帧间间隔IFS

![image-20210329113626179](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329113626.png)

##### 工作原理

![image-20210329114109382](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329114109.png)

![image-20210329114222485](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329114222.png)

##### 退避算法

![image-20210329114337597](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329114337.png)

![image-20210329115006908](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329115007.png)

##### 信道预约

![image-20210329115536958](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329115537.png)

##### 虚拟载波监听

![image-20210329115833826](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329115833.png)

##### 练习题

![image-20210329120000747](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329120000.png)

![image-20210329120444534](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329120444.png)

![image-20210329120534977](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329120535.png)

### MAC地址、IP地址、ARP协议

![image-20210329120926425](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329120926.png)

![image-20210329144901811](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329144902.png)

#### MAC地址

![image-20210329140051623](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329140051.png)

##### MAC地址格式

![image-20210329140209975](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329140210.png)

![image-20210329140509332](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329140509.png)

![image-20210329140532581](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329140532.png)

#####  单播、多播

![image-20210329140637503](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329140637.png)

![image-20210329140734269](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329140734.png)

![image-20210329140943929](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329140944.png)

##### 随机MAC地址

![image-20210329141322411](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329141322.png)

#### IP地址

***<u>属于网络层</u>***

![image-20210329142038201](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329142038.png)

##### 数据包发送时IP和MAC地址

![image-20210329142329430](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329142329.png)

![image-20210329142700647](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329142700.png)

##### 练习

![image-20210329143030452](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329143030.png)

#### 地址解析协议ARP

![image-20210423110935611](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210423110942.png)

##### 类型

![image-20210423111217518](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210423111217.png)

![image-20210423111245365](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210423111245.png)

![image-20210423111417111](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210423111417.png)





![image-20210329144643501](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329144643.png)

![image-20210329144752602](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210329144752.png)



### 集线器与交换机

#### 集线器

![image-20210330225353345](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210330225400.png)

![image-20210330225728234](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210330225728.png)

#### 交换机

![image-20210330225843996](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210330225844.png)

![image-20210330230218119](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210330230218.png)

#### 区别

==集线器在物理层扩展以太网，交换机在链路层扩展以太网==

![image-20210330230859850](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210330230900.png)

![image-20210330231219672](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210330231219.png)

![image-20210330231311407](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210330231311.png)

![image-20210330231348548](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210330231348.png)

![image-20210330231509830](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210330231509.png)



### 交换机自学习和转发帧的流程

![image-20210330232125083](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210330232125.png)

#### 流程

![image-20210330232507136](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210330232507.png)

![image-20210330232608527](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210330232608.png)

![image-20210330232716368](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210330232716.png)

丢弃帧

![image-20210330232933231](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210330232933.png)

**==随着学习，记录了所有mac地址==**

![image-20210330233116837](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210330233116.png)

==**ARP高速缓存表也会到期自动删除，IP和MAC也不绑定**==

#### 习题

![image-20210330233851257](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210330233851.png)

![image-20210330234029973](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210330234030.png)

![image-20210330234231691](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210330234231.png)

#### 小结

![image-20210330234349594](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210330234349.png)

### 交换机的生成树协议STP

#### 路线故障

![image-20210331110525919](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210331110526.png)

![image-20210331110539775](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210331110539.png)

添加冗余链路

![image-20210331110613527](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210331110613.png)

![image-20210331110846339](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210331110846.png)

#### STP算法

![image-20210331111358488](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210331111358.png)

当出现故障时，算法重新计算

![image-20210331111547580](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210331111547.png)



### 虚拟局域网VLAN

#### 概述

![image-20210331111844892](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210331111845.png)

![image-20210331111920649](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210331111920.png)

![image-20210331112018720](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210331112018.png)

![image-20210331112212267](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210331112212.png)

#### 实现机制

![image-20210331112424249](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210331112424.png)

![image-20210331112522368](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210331112522.png)

##### Access端口

![image-20210331112658273](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210331112658.png)

![image-20210331113002819](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210331113002.png)

##### Trunk端口

![image-20210331113324733](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210331113324.png)

![image-20210331113630156](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210331113630.png)

==所以，连接主机的交换机端口应该设置为Access类型，连接交换机的交换机端口应该设置为Trunk类型==



![image-20210331114259372](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210331114259.png)

==互连的Trunk端口的PVID值不等，可能会造成转发错误==

##### Hybrid端口（可实现两种功能）

![image-20210331114644370](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210331114644.png)

![image-20210331114832565](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210331114832.png)



## 网络层

### 概述

![image-20210407123646936](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407123654.png)



![image-20210407123810072](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407123810.png)



### 提供的两种服务

#### 面向连接的虚电路服务

![image-20210407124131298](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407124131.png)

#### 无连接的数据报服务

![image-20210407124309620](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407124309.png)

#### 比较

![image-20210407124351195](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407124351.png)



### IPv4地址

![image-20210407124601423](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407124601.png)

#### 表示方法

![image-20210407124702915](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407124703.png)



![image-20210407124945591](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407124945.png)

![image-20210407125126830](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407125127.png)

#### 分类编址的IPv4

![image-20210407125315876](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407125316.png)

##### A类

![image-20210407125529340](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407125529.png)

##### B类

![image-20210407130108563](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407130108.png)

##### C类

![image-20210407130252809](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407130253.png)

##### 练习

![image-20210407130604002](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407130604.png)

![image-20210407131534153](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407131534.png)

##### 特殊的IP地址

![image-20210407131007919](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407131008.png)

##### 划分子网

![image-20210407140622838](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407140623.png)

![image-20210407140713989](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407140714.png)



###### 子网掩码

![image-20210407141717948](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407141725.png)

![image-20210407142219433](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407142219.png)

![image-20210407142411214](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407142411.png)

![image-20210407142733465](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407142733.png)

###### 默认子网掩码

![image-20210407142842510](C:\Users\Youens\AppData\Roaming\Typora\typora-user-images\image-20210407142842510.png)



#### 无分类编址的IPv4

![image-20210407143613401](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407143613.png)

![image-20210407143721375](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407143721.png)

![image-20210407143939887](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407143940.png)



##### 路由聚合（超网）

![image-20210407144445072](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407144445.png)

练习

![image-20210407144939278](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407144939.png)

![image-20210407145256136](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407145256.png)

### IPv4地址的应用规划

![image-20210407145431758](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407145431.png)

#### FLSM

![image-20210407145651628](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407145651.png)

![image-20210407145808034](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407145808.png)

![image-20210407145951180](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407145951.png)

![image-20210407150245212](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407150245.png)

#### VLSM

![image-20210407150429600](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407150429.png)

![image-20210407150616698](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407150616.png)

![image-20210407151053489](https://cdn.jsdelivr.net/gh/Youenschang/picgo/img/20210407151053.png)



### IP数据报的发送和转发过程

#### 概述

![image-20210414103250758](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414103258.png)![image-20210414103500285](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414103500.png)

![image-20210414104251735](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414104251.png)

![image-20210414104301544](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414104301.png)

![image-20210414105043405](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414105043.png)

#### 练习

![image-20210414105347635](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414105347.png)

![image-20210414105541083](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414105541.png)

![image-20210414110719932](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414110720.png)

### 静态路由配置可能产生的问题

![image-20210414111238273](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414111238.png)

#### 静态路由

![image-20210414111523270](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414111523.png)

#### 默认路由

![image-20210414111835785](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414111835.png)

#### 特定主机路由

![image-20210414112012088](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414112012.png)

#### 错误情况

![image-20210414112228260](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414112228.png)

![image-20210414112430306](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414112430.png)

![image-20210414112538182](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414112538.png)

##### 添加黑洞路由



<img src="https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414112649.png" alt="image-20210414112649368" style="zoom:50%;" />

![image-20210414112755900](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414112756.png)

![image-20210414131449826](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414131450.png)

### 路由选择协议

#### 概述

![image-20210414131645167](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414131645.png)

![image-20210414131736873](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414131737.png)

#### 分层次的路由选择系协议

![image-20210414131941850](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414131942.png)

![image-20210414132047776](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414132048.png)

#### 路由器的基本结构

![image-20210414132145843](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414132146.png)

![image-20210414132341040](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414132341.png)

#### 路由信息协议RIP

##### 基本原理

![image-20210414132635491](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414132635.png)

![image-20210414132801371](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414132801.png)

##### 工作过程

![image-20210414132929868](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414132930.png)

##### 路由条目更新规则

![image-20210414133328317](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414133328.png)

![image-20210414133301850](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414133302.png)

##### 存在的问题

![image-20210414134329326](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414134329.png)





##### 练习

![image-20210414133642723](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414133642.png)

![image-20210414133935040](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414133935.png)

![image-20210414135044170](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414135044.png)

![image-20210414135133454](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414135133.png)

#### 开放最短路径优先OSPF

##### 概述

![image-20210414135409475](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414135409.png)

![image-20210414135502335](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414135502.png)

![image-20210414135655347](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414135655.png)

![image-20210414135757537](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414135757.png)

 ![image-20210414135855579](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414135855.png)

![image-20210414140020019](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414140020.png)

##### OSPF分组类型

![image-20210414140325325](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414140325.png)

##### OSPF的工作过程

![image-20210414140749705](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414140749.png)

![image-20210414141410481](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414141410.png)

![image-20210414141711462](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414141711.png)



#### 边界网关协议BGP

##### 概述

![image-20210414142559910](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414142600.png)

![image-20210414142704021](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414142704.png)

![image-20210414142851519](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414142851.png)

![image-20210414142934936](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414142935.png)

![image-20210414143028570](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414143028.png)

##### BGP报文类型

![image-20210414143135522](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414143135.png)

##### 练习

![image-20210414143259996](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414143300.png)

![image-20210414143354588](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210414143354.png)

### IPv4数据报的首部格式

![image-20210421154101220](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421154101.png)

#### 格式各字段含义

![image-20210421154627358](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421154627.png)

![image-20210421154814618](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421154814.png)

![image-20210421155101605](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421155101.png)

![image-20210421162903032](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421162903.png)

![image-20210421163811243](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421163811.png)



#### IP数据报分片例子

![image-20210421155818674](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421155818.png)

> 对第二个分片再次分片

![image-20210421155959134](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421155959.png)

#### 练习

![image-20210421164447635](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421164447.png)

![image-20210421165607258](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421165607.png)

![image-20210421170225509](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421170225.png)



### 网际控制报文协议ICMP

![image-20210421171052996](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421171053.png)

####  ICMP差错报文

![image-20210421171352398](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421171352.png)

##### 终点不可达

![image-20210421171257444](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421171257.png)

##### 源点抑制

![image-20210421171703529](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421171703.png)



##### 时间超过

![image-20210421171822326](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421171822.png)

##### 参数问题

![image-20210421171911596](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421171911.png)

##### 改变路由

![image-20210421172115038](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421172115.png)

##### 注意情况

![image-20210421172213295](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421172213.png)

#### ICMP询问报文

![image-20210421172421135](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421172519.png)

##### 应用



![](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421172519.png)

> 分组网间探测

![image-20210421173036329](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421173036.png)



> 跟踪路由

![image-20210421172911917](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421172912.png)

==原理==

![image-20210421173554461](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421173554.png)

### 虚拟专用网VPN与网络地址转换NAT

#### VPN

![image-20210421174418798](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421174419.png)

![image-20210421174937542](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421174937.png)

![image-20210421175028955](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421175029.png)



#### NET

![image-20210421175118766](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421175118.png)

> 发送

![image-20210421175336747](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421175337.png)

> 接收

![image-20210421175515483](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421175515.png)

![image-20210421175836658](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421175836.png)

![image-20210421175953414](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421175953.png)



![image-20210421180104026](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210421180104.png)



## 运输层

### 概述

![image-20210508103105344](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508103112.png)

![image-20210508103221725](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508103222.png)



![image-20210508103241757](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508103241.png)

### 端口号、复用、分用

#### 端口号

![image-20210508103457007](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508103457.png)

#### 复用和分用

![image-20210508103619269](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508103619.png)

#### 常用协议端口号

![image-20210508103719072](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508103719.png)

### UDP、TCP对比

![image-20210508105010130](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508105010.png)

```
UDP无连接  面向连接TCP
```

![image-20210508104229735](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508104229.png)

```
UDP支持单播、多播、广播
TCP仅支持单播
```

![image-20210508104316233](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508104316.png)

```
UDP面向报文
TCP面向字节流
```

![image-20210508104508763](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508104509.png)

```
UDP提供不可靠的服务
TCP提供可靠的服务
```

![image-20210508104816712](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508104817.png)

![image-20210508104934623](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508104934.png)

### TCP的流量控制

 ![image-20210508105235218](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508105235.png)

#### 过程

![image-20210508105711970](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508105712.png)

![image-20210508110020886](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508110021.png)

![image-20210508110316194](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508110316.png)

### TCP的拥塞控制

![image-20210508111117107](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508111117.png)

```
四种拥塞控制算法
```

![image-20210508111258195](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508111258.png)

![image-20210508111408457](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508111408.png)

#### 慢开始

![image-20210508111902740](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508111902.png)



#### 拥塞避免

![image-20210508112129682](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508112129.png)

#### 慢开始、拥塞避免的缺点

![	](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508112314.png)

#### 快重传

![image-20210508112618551](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508112618.png)



#### 快恢复

![image-20210508112738901](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508112739.png)

![image-20210508112929290](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508112929.png)

#### 例题

![image-20210508113426692](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508113426.png)

### TCP超时重传时间

![image-20210508145759990](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508145800.png)

#### 重传时间RTO

![image-20210508145852776](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508145853.png)

![image-20210508150021748](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508150022.png)

#### Karn算法

![image-20210508150127769](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508150128.png)

#### 例子

![image-20210508150304129](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210508150304.png)

### TCP可靠传输的实现

#### 发送方的发送窗口

![image-20210512150550213](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512150557.png)

![image-20210512150708662](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512150708.png)

#### 接收方的接收串口

![image-20210512151105731](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512151105.png)

#### 补充

![image-20210512151405883](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512151406.png)

#### 习题

![image-20210512151551508](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512151551.png)

![image-20210512151900572](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512151900.png)



### TCP连接建立

#### 概述

![image-20210512152023802](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512152024.png)

![image-20210512152051363](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512152051.png)

#### 连接建立

![image-20210512153102142](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512153102.png)

#### 为什么要三次握手

> ==三次握手是否多余？==
>
> ==如果改为两次握手：==

![image-20210512153332465](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512153332.png)

![image-20210512153427160](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512153427.png)



#### 练习

![image-20210512153629682](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512153629.png)



### TCP连接的释放

#### 连接释放

![image-20210512154856995](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512154857.png)

#### 为什么要等待2MSL

> ==假如无需等待2MSL直接进入关闭状态==

![image-20210512155204889](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512155205.png)

```
等待2SML的作用
	1、可确保服务器端正确进入关闭状态
	2、等待2SML后，本次连接所产生的所有旧报文段就会从网络中消失，这样，下一个TCP连接中就不会出现旧连接的报文段
```

#### 保活计时器

![image-20210512155747906](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512155748.png)

### TCP报文段的首部格式

![image-20210512155855133](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512155855.png)

#### 首部格式

![image-20210512155959574](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512155959.png)

#### 各字段含义

![image-20210512161124439](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512161124.png)

![image-20210512161819595](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512161819.png)

![image-20210512162216247](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512162216.png)

![image-20210512162352244](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512162352.png)

## 应用层

### 概述

![image-20210512164311248](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512164311.png)

![image-20210512164352989](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512164353.png)

![image-20210512164441732](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512164441.png)

![image-20210512175957245](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512175957.png)

### 客户/服务器方式和对等方式

![image-20210512164602104](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512164602.png)

#### C/S

![image-20210512164741316](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512164741.png)

#### P2P

![image-20210512164927362](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512164927.png)

### 动态主机配置DHCP

#### 作用

![image-20210512170134970](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512170135.png)

#### 工作过程

![image-20210512172024000](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512172024.png)

#### DHCP中继代理

![image-20210512172538573](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512172538.png)

### 域名系统DNS

#### 作用

![image-20210512173121023](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512173121.png)

#### 层次树状域名结构

> 英特网是否可以中使用一台DNS服务器？

<img src="https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512173339.png" alt="image-20210512173339506" style="zoom:50%;" />

##### 域名结构

![image-20210512173726312](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512173726.png)

##### 顶级域名分类

![image-20210512173918042](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512173918.png)

##### 域名空间

![image-20210512174049567](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512174049.png)

##### 域名服务器分类

![image-20210512174343541](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512174343.png)

#### 域名解析过程

![image-20210512174909892](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512174910.png)

![image-20210512175347461](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512175347.png)

![image-20210512175021024](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512175021.png) 

#### 练习

![image-20210512175501779](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512175502.png)

![image-20210512175723191](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512175723.png)

### 文件传输协议FTP

![image-20210512204159696](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512204159.png)

#### 基本工作原理

##### 主动模式

![image-20210512204416749](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512204417.png)

##### 被动模式

![image-20210512204620963](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512204621.png)

#### 练习

![image-20210512204708376](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512204708.png)

![image-20210512204807485](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512204807.png)

### 电子邮件

#### 概述

![image-20210512204944742](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512204944.png)

![image-20210512205135070](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512205135.png)



![image-20210512205235249](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512205235.png)

#### 邮件发送协议SMTP

##### 工作原理

![image-20210512205802618](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512205802.png)

##### MIME

![image-20210512210235224](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512210235.png)

![image-20210512210315636](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512210315.png)





#### 邮件格式

![image-20210512210112792](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512210113.png)

#### 邮件读取协议POP3/IMAP

![image-20210512210522066](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512210522.png)

#### 总结

![image-20210512210702757](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512210703.png)

#### 练习

![image-20210512210832069](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512210832.png)

![image-20210512210944442](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512210944.png)

![image-20210512211017138](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512211017.png)

### 万维网

#### 概述

![image-20210512211135552](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512211135.png)

![image-20210512211145875](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512211145.png)

![image-20210512211217330](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512211217.png)

#### 应用

![image-20210512211531700](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512211531.png)

#### HTTP协议

![image-20210512212138168](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512212138.png)

![image-20210512212222920](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512212223.png)

##### 请求报文格式

![image-20210512212423664](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512212423.png)

![image-20210512212449075](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512212449.png)

##### 响应报文的格式

 ![image-20210512212653888](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512212654.png)

![image-20210512212734324](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512212734.png)

#### Cookie

![image-20210512212843723](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512212843.png)

![image-20210512212954965](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512212955.png)

#### 缓存与代理服务器

![image-20210512213229408](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512213229.png)

#### 练习

![image-20210512213341699](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512213341.png)

![image-20210512213651972](https://cdn.jsdelivr.net/gh/youenschen/picgo/img/20210512213652.png)



